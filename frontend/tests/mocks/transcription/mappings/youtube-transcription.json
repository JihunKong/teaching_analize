{
  "mappings": [
    {
      "name": "Submit YouTube Transcription",
      "request": {
        "method": "POST",
        "urlPath": "/api/transcribe/youtube"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "job_id": "{{randomValue length=20 type='ALPHANUMERIC'}}",
          "status": "pending",
          "message": "Transcription request received and queued for processing"
        }
      }
    },
    {
      "name": "Get Transcription Job Status - Pending",
      "request": {
        "method": "GET",
        "urlPathPattern": "/api/transcribe/.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "job_id": "{{request.pathSegments.[2]}}",
          "status": "processing",
          "message": "Extracting transcript from YouTube video..."
        },
        "fixedDelayMilliseconds": 500
      },
      "priority": 2
    },
    {
      "name": "Get Transcription Job Status - Completed",
      "request": {
        "method": "GET",
        "urlPathPattern": "/api/transcribe/completed-.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "job_id": "{{request.pathSegments.[2]}}",
          "status": "completed",
          "message": "Transcription completed successfully",
          "result": {
            "transcript": "안녕하세요 여러분. 오늘은 수학 시간입니다. 함수에 대해서 공부해보겠습니다. 함수란 입력값에 대해 정확히 하나의 출력값을 가지는 관계를 말합니다. 예를 들어 f(x) = 2x + 1 이라는 함수가 있다면, x가 1일 때 f(1) = 3이 됩니다. 학생 여러분, 이해가 되시나요? 네, 김철수 학생 질문있으면 손을 들어주세요. 좋습니다. 그럼 이제 연습문제를 풀어보겠습니다. 첫 번째 문제는 f(x) = x² + 2x - 3에서 f(2)의 값을 구하는 것입니다. 천천히 계산해보세요. f(2) = 2² + 2×2 - 3 = 4 + 4 - 3 = 5입니다. 잘 하셨습니다. 이제 여러분도 비슷한 문제를 풀어보세요.",
            "character_count": 234,
            "word_count": 89,
            "video_id": "{{jsonPath request.body '$.youtube_url'}}",
            "method_used": "youtube-transcript-api"
          }
        },
        "fixedDelayMilliseconds": 1000
      },
      "priority": 1
    },
    {
      "name": "Get Transcription Job Status - Failed",
      "request": {
        "method": "GET",
        "urlPathPattern": "/api/transcribe/failed-.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "job_id": "{{request.pathSegments.[2]}}",
          "status": "failed",
          "message": "Failed to extract transcript. Video may be private, deleted, or have no captions available."
        },
        "fixedDelayMilliseconds": 800
      },
      "priority": 1
    },
    {
      "name": "Get Transcription Job Status - Long Processing",
      "request": {
        "method": "GET",
        "urlPathPattern": "/api/transcribe/long-.*"
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "job_id": "{{request.pathSegments.[2]}}",
          "status": "processing",
          "message": "Processing long video content. This may take several minutes..."
        },
        "fixedDelayMilliseconds": 2000
      },
      "priority": 1
    },
    {
      "name": "Invalid YouTube URL",
      "request": {
        "method": "POST",
        "urlPath": "/api/transcribe/youtube",
        "bodyPatterns": [
          {
            "matchesJsonPath": "$.youtube_url",
            "contains": "invalid"
          }
        ]
      },
      "response": {
        "status": 400,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "detail": "Invalid YouTube URL format. Please provide a valid YouTube video URL."
        }
      }
    },
    {
      "name": "Server Error",
      "request": {
        "method": "POST",
        "urlPath": "/api/transcribe/youtube",
        "bodyPatterns": [
          {
            "matchesJsonPath": "$.youtube_url",
            "contains": "error"
          }
        ]
      },
      "response": {
        "status": 500,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "detail": "Internal server error occurred while processing transcription request"
        }
      }
    }
  ]
}