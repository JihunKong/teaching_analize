(()=>{var e={};e.id=345,e.ids=[345],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5172:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(266),t(2029),t(5866);var r=t(3191),n=t(8716),a=t(7922),i=t.n(a),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["comprehensive-reports",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,266)),"/Users/jihunkong/AI_analize/frontend/src/app/comprehensive-reports/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/jihunkong/AI_analize/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/jihunkong/AI_analize/frontend/src/app/comprehensive-reports/page.tsx"],p="/comprehensive-reports/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/comprehensive-reports/page",pathname:"/comprehensive-reports",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2616:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9265:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9404,23))},1419:(e,s,t)=>{Promise.resolve().then(t.bind(t,4204))},5047:(e,s,t)=>{"use strict";var r=t(7389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},3353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=t(1174);t(326),t(7577);let n=r._(t(7028));function a(e,s){var t;let r={loading:e=>{let{error:s,isLoading:t,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let a={...r,...s};return(0,n.default)({...a,modules:null==(t=a.loadableGenerated)?void 0:t.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},933:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=t(4129);function n(e){let{reason:s,children:t}=e;throw new r.BailoutToCSRError(s)}},7028:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=t(326),n=t(7577),a=t(933),i=t(6618);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let s={...o,...e},t=(0,n.lazy)(()=>s.loader().then(l)),d=s.loading;function c(e){let l=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=s.ssr?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.PreloadCss,{moduleIds:s.modules}),(0,r.jsx)(t,{...e})]}):(0,r.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(n.Suspense,{fallback:l,children:o})}return c.displayName="LoadableComponent",c}},6618:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=t(326),n=t(4580);function a(e){let{moduleIds:s}=e,t=(0,n.getExpectedRequestStore)("next/dynamic css"),a=[];if(t.reactLoadableManifest&&s){let e=t.reactLoadableManifest;for(let t of s){if(!e[t])continue;let s=e[t].files.filter(e=>e.endsWith(".css"));a.push(...s)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:t.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},4204:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(326),n=t(7577),a=t(5047),i=t(3353);function l({analysis:e,selected:s,onToggle:t,frameworkColor:n="#667eea"}){return(0,r.jsxs)("div",{className:`card analysis-card ${s?"selected":""}`,style:{cursor:"pointer",border:s?`2px solid ${n}`:"1px solid #ddd",transition:"all 0.3s ease"},onClick:s=>{s.preventDefault(),t(e.analysis_id)},onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),t(e.analysis_id))},tabIndex:0,role:"button","aria-pressed":s,"aria-label":`${e.framework_name} 분석 ${s?"선택됨":"선택 안됨"}`,children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px",gap:"12px"},children:[r.jsx("input",{type:"checkbox",checked:s,onChange:()=>{},style:{width:"20px",height:"20px",accentColor:n},"aria-hidden":"true"}),r.jsx("h4",{style:{margin:0,flex:1,color:"#333"},children:e.framework_name}),r.jsx("span",{style:{backgroundColor:n,color:"white",padding:"4px 10px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.framework})]}),(0,r.jsxs)("div",{className:"analysis-stats",style:{marginBottom:"12px"},children:[(0,r.jsxs)("span",{children:["\uD83D\uDCC5 ",new Date(e.created_at).toLocaleDateString("ko-KR")]}),(0,r.jsxs)("span",{children:["\uD83D\uDCDD ",e.character_count.toLocaleString(),"자"]}),(0,r.jsxs)("span",{children:["\uD83D\uDCCA ",e.word_count?.toLocaleString()||"N/A","단어"]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",padding:"12px",fontSize:"0.9rem",lineHeight:"1.5",maxHeight:"120px",overflow:"hidden",position:"relative"},children:[e.analysis.length>200?`${e.analysis.substring(0,200)}...`:e.analysis,e.analysis.length>200&&r.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"linear-gradient(to right, transparent, #f8f9fa 70%)",padding:"0 8px",fontSize:"0.8rem",color:"#666"},children:"더보기"})]}),e.metadata&&(0,r.jsxs)("div",{style:{marginTop:"10px",fontSize:"0.8rem",color:"#666",display:"flex",gap:"15px",flexWrap:"wrap"},children:[e.metadata.video_id&&(0,r.jsxs)("span",{children:["\uD83C\uDFAC 영상: ",e.metadata.video_id]}),void 0!==e.metadata.temperature&&(0,r.jsxs)("span",{children:["\uD83C\uDF21️ 온도: ",e.metadata.temperature]}),e.metadata.language&&(0,r.jsxs)("span",{children:["\uD83C\uDF10 언어: ",e.metadata.language]})]}),s&&r.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:n,color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:"✓"})]})}function o({frameworks:e,selectedFrameworks:s,configuration:t,onConfigurationChange:a}){let[i,l]=(0,n.useState)("basic"),o=e=>{a({...t,...e})},d=(e,s)=>{o({frameworkWeights:{...t.frameworkWeights,[e]:s}})},c=e=>e<=.5?"매우 낮음":e<=.8?"낮음":e<=1.2?"보통":e<=2?"높음":"매우 높음",p=e.filter(e=>s.includes(e.id)),x=e=>{l(i===e?null:e)};return(0,r.jsxs)("div",{className:"config-panel",children:[r.jsx("h3",{style:{marginBottom:"25px",color:"#333"},children:"⚙️ 보고서 설정"}),(0,r.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>x("basic"),children:[r.jsx("h4",{style:{margin:0},children:"\uD83D\uDCDD 기본 설정"}),r.jsx("span",{style:{fontSize:"1.2rem"},children:"basic"===i?"▼":"▶"})]}),"basic"===i&&(0,r.jsxs)("div",{style:{paddingTop:"15px",borderTop:"1px solid #e9ecef"},children:[(0,r.jsxs)("div",{className:"grid grid-2",style:{marginBottom:"15px"},children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"보고서 제목"}),r.jsx("input",{type:"text",className:"form-input",value:t.title,onChange:e=>o({title:e.target.value}),placeholder:"보고서 제목을 입력하세요"})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"보고서 유형"}),(0,r.jsxs)("select",{className:"form-select",value:t.type,onChange:e=>o({type:e.target.value}),children:[r.jsx("option",{value:"detailed",children:"상세 분석"}),r.jsx("option",{value:"comparison",children:"비교 분석"}),r.jsx("option",{value:"summary",children:"요약 분석"})]})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsxs)("label",{className:"form-label",children:[r.jsx("input",{type:"checkbox",checked:t.includeRecommendations,onChange:e=>o({includeRecommendations:e.target.checked}),style:{marginRight:"8px"}}),"개선 권장사항 포함"]}),r.jsx("small",{style:{color:"#666",display:"block",marginTop:"5px"},children:"AI가 분석을 바탕으로 구체적인 개선 방안을 제안합니다."})]})]})]}),p.length>1&&(0,r.jsxs)("div",{className:"card",style:{marginBottom:"20px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>x("weights"),children:[r.jsx("h4",{style:{margin:0},children:"⚖️ 프레임워크 가중치"}),r.jsx("span",{style:{fontSize:"1.2rem"},children:"weights"===i?"▼":"▶"})]}),"weights"===i&&(0,r.jsxs)("div",{style:{paddingTop:"15px",borderTop:"1px solid #e9ecef"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsx("p",{style:{margin:0,color:"#666",fontSize:"0.9rem"},children:"각 프레임워크의 중요도를 조정하여 맞춤형 보고서를 생성하세요."}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>{let e={};s.forEach(s=>{e[s]=1}),o({frameworkWeights:e})},style:{padding:"6px 12px",fontSize:"0.8rem"},children:"초기화"})]}),r.jsx("div",{className:"grid",children:p.map(e=>{let s=t.frameworkWeights[e.id]||1;return(0,r.jsxs)("div",{className:"card",style:{padding:"15px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[r.jsx("span",{style:{fontWeight:"bold"},children:e.name}),r.jsx("span",{className:"weight-display",style:{backgroundColor:"#667eea",color:"white",padding:"4px 8px",borderRadius:"8px",fontSize:"0.9rem"},children:s.toFixed(1)})]}),r.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:s,onChange:s=>d(e.id,parseFloat(s.target.value)),style:{width:"100%",marginBottom:"8px"},"aria-label":`${e.name} 가중치`}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",color:"#666"},children:[r.jsx("span",{children:"낮음 (0.1)"}),r.jsx("span",{style:{fontWeight:"bold"},children:c(s)}),r.jsx("span",{children:"높음 (3.0)"})]}),r.jsx("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"8px",fontStyle:"italic"},children:e.description})]},e.id)})})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",padding:"10px 0"},onClick:()=>x("advanced"),children:[r.jsx("h4",{style:{margin:0},children:"\uD83D\uDD27 고급 설정"}),r.jsx("span",{style:{fontSize:"1.2rem"},children:"advanced"===i?"▼":"▶"})]}),"advanced"===i&&r.jsx("div",{style:{paddingTop:"15px",borderTop:"1px solid #e9ecef"},children:(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"출력 형식"}),(0,r.jsxs)("select",{className:"form-select",value:t.format,onChange:e=>o({format:e.target.value}),children:[r.jsx("option",{value:"html",children:"HTML (웹 브라우저용)"}),r.jsx("option",{value:"pdf",children:"PDF (인쇄용) - 개발 중"})]}),r.jsx("small",{style:{color:"#666",marginTop:"5px",display:"block"},children:"HTML 형식은 인터랙티브 차트와 반응형 디자인을 지원합니다."})]})})]}),(0,r.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e8f4fd",border:"1px solid #b3d7ff",borderRadius:"8px"},children:[r.jsx("h5",{style:{margin:"0 0 10px 0",color:"#0c5460"},children:"\uD83D\uDCCA 설정 요약"}),(0,r.jsxs)("ul",{style:{margin:0,paddingLeft:"20px",color:"#0c5460",fontSize:"0.9rem"},children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"제목:"})," ",t.title]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"유형:"})," ","detailed"===t.type?"상세 분석":"comparison"===t.type?"비교 분석":"요약 분석"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"선택된 프레임워크:"})," ",p.length,"개"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"권장사항:"})," ",t.includeRecommendations?"포함":"제외"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"형식:"})," ",t.format.toUpperCase()]})]})]})]})}function d({reportHtml:e,title:s,onClose:t,onDownload:a}){let[i,l]=(0,n.useState)("embedded");return(0,r.jsxs)("div",{className:"comprehensive-report-viewer",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",background:"#f8f9fa",borderBottom:"1px solid #dee2e6",borderRadius:"10px 10px 0 0"},children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{style:{margin:0,color:"#333"},children:s}),(0,r.jsxs)("small",{style:{color:"#666"},children:["생성일: ",new Date().toLocaleDateString("ko-KR")]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>l("embedded"===i?"fullscreen":"embedded"),style:{padding:"8px 15px",fontSize:"0.9rem"},children:"embedded"===i?"전체화면":"임베디드"}),r.jsx("button",{className:"btn",onClick:()=>{let s=window.open("","_blank");s&&(s.document.write(e),s.document.close())},style:{padding:"8px 15px",fontSize:"0.9rem"},children:"새 탭에서 열기"}),r.jsx("button",{className:"btn",onClick:()=>{let t=new Blob([e],{type:"text/html"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`${s.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),a&&a()},style:{padding:"8px 15px",fontSize:"0.9rem"},children:"다운로드"}),t&&r.jsx("button",{className:"btn btn-secondary",onClick:t,style:{padding:"8px 15px",fontSize:"0.9rem"},children:"닫기"})]})]}),r.jsx("div",{style:{height:"fullscreen"===i?"80vh":"600px",border:"1px solid #dee2e6",borderTop:"none",borderRadius:"0 0 10px 10px",overflow:"hidden"},children:r.jsx("iframe",{srcDoc:e,style:{width:"100%",height:"100%",border:"none",background:"white"},title:s,sandbox:"allow-scripts allow-same-origin"})}),(0,r.jsxs)("div",{style:{padding:"15px 20px",background:"#f8f9fa",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"0.9rem",color:"#666"},children:[(0,r.jsxs)("div",{children:["보고서 크기: ",(new Blob([e]).size/1024).toFixed(1)," KB"]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[r.jsx("button",{className:"btn btn-secondary",onClick:()=>window.print(),style:{padding:"6px 12px",fontSize:"0.8rem"},children:"인쇄"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>{navigator.clipboard.writeText(window.location.href).then(()=>alert("링크가 클립보드에 복사되었습니다.")).catch(()=>alert("링크 복사에 실패했습니다."))},style:{padding:"6px 12px",fontSize:"0.8rem"},children:"링크 복사"})]})]})]})}function c(){let e=(0,a.useSearchParams)(),[s,t]=(0,n.useState)([]),[i,c]=(0,n.useState)([]),[p,x]=(0,n.useState)([]),[m,h]=(0,n.useState)(!0),[u,g]=(0,n.useState)(""),[f,j]=(0,n.useState)(""),[y,b]=(0,n.useState)(""),[v,w]=(0,n.useState)("date"),[C,k]=(0,n.useState)("desc"),[S,N]=(0,n.useState)({title:"종합 교육 분석 보고서",type:"detailed",includeRecommendations:!0,frameworkWeights:{},format:"html"}),[D,_]=(0,n.useState)(!1),[A,T]=(0,n.useState)(null),[F,P]=(0,n.useState)([]),[B,R]=(0,n.useState)(!1),z=s.filter(e=>{let s=!u||e.framework_name.toLowerCase().includes(u.toLowerCase())||e.analysis.toLowerCase().includes(u.toLowerCase()),t=!f||new Date(e.created_at).toISOString().split("T")[0]>=f,r=!y||e.framework===y;return s&&t&&r}).sort((e,s)=>{let t=0;switch(v){case"date":t=new Date(e.created_at).getTime()-new Date(s.created_at).getTime();break;case"framework":t=e.framework_name.localeCompare(s.framework_name);break;case"length":t=e.character_count-s.character_count}return"desc"===C?-t:t}),E=e=>{c(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},I=async()=>{if(0===i.length){alert("분석을 선택해주세요.");return}_(!0);try{let e=s.filter(e=>i.includes(e.analysis_id)),t=await fetch("http://localhost:8080/api/reports/generate/comprehensive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analyses:e,configuration:S})}),r=await t.json();if(t.ok){let e={job_id:r.job_id||`comp-${Date.now()}`,status:r.status||"processing",message:r.message||"종합 보고서를 생성하고 있습니다...",progress:0};T(e),W(e.job_id)}else throw Error(r.detail||"Report generation failed")}catch(s){console.error("Error generating comprehensive report:",s);let e={job_id:`mock-${Date.now()}`,status:"processing",message:"종합 보고서를 생성하고 있습니다...",progress:0};T(e),L(e)}},L=e=>{let s=0,t=setInterval(()=>{if((s+=20*Math.random()+10)>=100){clearInterval(t);let s={...e,status:"completed",message:"종합 보고서가 성공적으로 생성되었습니다.",progress:100,result:{report_html:$(),generated_at:new Date().toISOString()}};T(s),P(e=>[s,...e]),_(!1)}else T(e=>e?{...e,progress:s}:null)},800)},W=async e=>{let s=async()=>{try{let t=await fetch(`http://localhost:8080/api/reports/status/${e}`),r=await t.json();if(T(r),"completed"===r.status||"failed"===r.status){"completed"===r.status&&P(e=>[r,...e]),_(!1);return}setTimeout(s,3e3)}catch(e){console.error("Error checking report status:",e),_(!1)}};setTimeout(s,2e3)},$=()=>`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${S.title}</title>
        <meta charset="utf-8">
        <style>
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
          }
          .report-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          }
          .header {
            background: #667eea;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
          }
          .section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
          }
          .framework {
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
          }
          @media (max-width: 768px) {
            .report-container {
              max-width: 100%;
              padding: 20px;
            }
          }
        </style>
      </head>
      <body>
        <div class="report-container">
          <div class="header">
            <h1>${S.title}</h1>
            <p>생성일: ${new Date().toLocaleDateString("ko-KR")}</p>
          </div>
          <div class="section">
            <h2>분석 개요</h2>
            <p>선택된 ${i.length}개 분석 결과를 종합한 보고서입니다.</p>
          </div>
          <div class="section">
            <h2>프레임워크별 분석</h2>
            ${i.map(e=>{let t=s.find(s=>s.analysis_id===e);return t?`
                <div class="framework">
                  <h3>${t.framework_name}</h3>
                  <p>가중치: ${S.frameworkWeights[t.framework]?.toFixed(1)||1}</p>
                  <div>${t.analysis.substring(0,500)}...</div>
                </div>
              `:""}).join("")}
          </div>
        </div>
      </body>
      </html>
    `,O=e=>{if(e.result?.report_html){let s=window.open("","_blank");s&&(s.document.write(e.result.report_html),s.document.close())}},M=e.get("analysis_id");return M?r.jsx("div",{className:"fixed inset-0 w-screen h-screen bg-gradient-to-br from-indigo-50 via-white to-emerald-50 m-0 p-0",style:{zIndex:9999},children:r.jsx("iframe",{src:`/api/reports/html/${M}`,className:"w-full h-full border-none block",style:{width:"100%",height:"100%",border:"none",display:"block",minWidth:"100%",minHeight:"100%"},title:"분석 보고서"})}):m?r.jsx("div",{className:"fixed inset-0 w-screen h-screen bg-gradient-to-br from-indigo-50 via-white to-emerald-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"glass-card p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[r.jsx("div",{className:"spinner mb-4"}),r.jsx("p",{className:"text-lg font-medium text-gray-700 text-center",children:"데이터를 불러오는 중..."})]})}):(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"header",children:[r.jsx("h1",{className:"title",children:"Comprehensive Report Generation"}),r.jsx("p",{className:"subtitle",children:"Integrate multiple framework analyses into a comprehensive educational report"})]}),B&&(0,r.jsxs)("div",{className:"status status-success mb-8 p-5 rounded-xl bg-green-50 text-green-800 border border-green-200",children:[r.jsx("strong",{children:"\uD83C\uDF89 Parallel Analysis Complete!"})," ",i.length," framework analyses have been automatically loaded. Adjust settings below and generate your comprehensive report."]}),(0,r.jsxs)("div",{className:"section",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-slate-900 m-0",children:["\uD83D\uDCDA Select Analysis (",i.length,"/",z.length,")"]}),(0,r.jsxs)("div",{className:"flex gap-2.5",children:[r.jsx("button",{className:"btn-secondary px-4 py-2 text-sm",onClick:()=>{c(z.map(e=>e.analysis_id))},children:"Select All"}),r.jsx("button",{className:"btn-secondary px-4 py-2 text-sm",onClick:()=>{c([])},children:"Clear Selection"})]})]}),(0,r.jsxs)("div",{className:"grid grid-2 mb-5",children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Search"}),r.jsx("input",{type:"text",className:"form-input",placeholder:"Search framework or content...",value:u,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Date Filter"}),r.jsx("input",{type:"date",className:"form-input",value:f,onChange:e=>j(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"grid grid-3",style:{marginBottom:"30px"},children:[(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Framework"}),(0,r.jsxs)("select",{className:"form-select",value:y,onChange:e=>b(e.target.value),children:[r.jsx("option",{value:"",children:"All Frameworks"}),p.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Sort By"}),(0,r.jsxs)("select",{className:"form-select",value:v,onChange:e=>w(e.target.value),children:[r.jsx("option",{value:"date",children:"Date"}),r.jsx("option",{value:"framework",children:"Framework"}),r.jsx("option",{value:"length",children:"Length"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[r.jsx("label",{className:"form-label",children:"Order"}),(0,r.jsxs)("select",{className:"form-select",value:C,onChange:e=>k(e.target.value),children:[r.jsx("option",{value:"desc",children:"Descending"}),r.jsx("option",{value:"asc",children:"Ascending"})]})]})]}),r.jsx("div",{className:"grid grid-2",children:z.map(e=>r.jsx(l,{analysis:e,selected:i.includes(e.analysis_id),onToggle:E},e.analysis_id))}),0===z.length&&r.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#64748B",background:"#F8FAFC",borderRadius:"12px",border:"2px dashed #E2E8F0"},children:"No analysis results found matching your criteria."})]}),i.length>0&&r.jsx("div",{className:"section",style:{marginTop:"40px"},children:r.jsx(o,{frameworks:p,selectedFrameworks:Array.from(new Set(i.map(e=>s.find(s=>s.analysis_id===e)?.framework).filter(Boolean))),configuration:S,onConfigurationChange:N})}),(0,r.jsxs)("div",{className:"section",style:{marginTop:"40px",textAlign:"center"},children:[r.jsx("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#0F172A",marginBottom:"20px"},children:"\uD83D\uDE80 Generate Report"}),(0,r.jsxs)("div",{style:{marginBottom:"30px"},children:[r.jsx("button",{className:"btn-primary btn-large",onClick:I,disabled:0===i.length||D,style:{minWidth:"250px"},children:D?"Generating Report...":"Generate Comprehensive Report"}),(0,r.jsxs)("div",{style:{marginTop:"15px",fontSize:"14px",color:"#64748B"},children:[i.length," analyses selected"]})]}),A&&(0,r.jsxs)("div",{style:{padding:"30px",backgroundColor:"#F8FAFC",borderRadius:"16px",border:"1px solid #E2E8F0",maxWidth:"600px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[r.jsx("strong",{style:{color:"#0F172A"},children:"Generation Status"}),(0,r.jsxs)("span",{style:{padding:"4px 12px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",backgroundColor:"completed"===A.status?"#DCFCE7":"failed"===A.status?"#FEE2E2":"#FEF3C7",color:"completed"===A.status?"#166534":"failed"===A.status?"#991B1B":"#92400E"},children:["pending"===A.status&&"Pending","processing"===A.status&&"Processing","completed"===A.status&&"Completed","failed"===A.status&&"Failed"]})]}),"number"==typeof A.progress&&r.jsx("div",{style:{height:"8px",background:"#E2E8F0",borderRadius:"4px",overflow:"hidden",marginBottom:"15px"},children:r.jsx("div",{style:{width:`${A.progress}%`,height:"100%",background:"linear-gradient(90deg, #2563EB, #4F46E5)",transition:"width 0.3s ease"}})}),r.jsx("p",{style:{margin:0,color:"#64748B",fontSize:"14px"},children:A.message}),"completed"===A.status&&A.result?.report_html&&r.jsx("div",{style:{marginTop:"25px"},children:r.jsx(d,{reportHtml:A.result.report_html,title:S.title,onClose:()=>T(null)})})]})]}),F.length>0&&(0,r.jsxs)("div",{className:"section",style:{marginTop:"40px"},children:[r.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#0F172A",marginBottom:"20px"},children:"\uD83D\uDCCB Generated Reports"}),r.jsx("div",{className:"grid grid-2",children:F.map((e,s)=>(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,r.jsxs)("h4",{style:{margin:0,fontSize:"16px",fontWeight:"600",color:"#0F172A"},children:["Comprehensive Report #",F.length-s]}),r.jsx("span",{style:{backgroundColor:"completed"===e.status?"#DCFCE7":"#FEE2E2",color:"completed"===e.status?"#166534":"#991B1B",padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600"},children:"completed"===e.status?"Success":"Failed"})]}),(0,r.jsxs)("div",{style:{fontSize:"14px",color:"#64748B",marginBottom:"20px"},children:["Generated: ",new Date(e.result?.generated_at||"").toLocaleDateString()]}),r.jsx("div",{style:{textAlign:"center"},children:r.jsx("button",{className:"btn-secondary",onClick:()=>O(e),disabled:"completed"!==e.status,style:{width:"100%"},children:"\uD83D\uDCC4 View in New Tab"})})]},e.job_id))})]}),(0,r.jsxs)("div",{className:"section",style:{marginTop:"40px",background:"#F8FAFC"},children:[r.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#0F172A",marginBottom:"20px"},children:"\uD83D\uDCA1 Help & Tips"}),(0,r.jsxs)("div",{className:"grid grid-2",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#0F172A",marginBottom:"10px"},children:"\uD83C\uDFAF Report Types"}),(0,r.jsxs)("ul",{style:{marginLeft:"20px",color:"#64748B",fontSize:"14px",lineHeight:"1.8"},children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Detailed:"})," Includes full analysis for each framework"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Comparison:"})," Focuses on comparing frameworks"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"Summary:"})," Concise overview of key insights"]})]}),(0,r.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #E2E8F0",fontSize:"13px",color:"#64748B"},children:[r.jsx("strong",{children:"\uD83D\uDCA1 Tip:"})," Running parallel analysis on the ",r.jsx("a",{href:"/analysis",style:{color:"#2563EB",textDecoration:"none",fontWeight:"500"},children:"Analysis Page"})," automatically loads all framework results here."]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#0F172A",marginBottom:"10px"},children:"⚖️ Weight Settings"}),(0,r.jsxs)("ul",{style:{marginLeft:"20px",color:"#64748B",fontSize:"14px",lineHeight:"1.8"},children:[(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"1.0:"})," Default importance (Recommended)"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"0.1-0.9:"})," Lower importance"]}),(0,r.jsxs)("li",{children:[r.jsx("strong",{children:"1.1-3.0:"})," Higher importance"]})]}),(0,r.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #E2E8F0",fontSize:"13px",color:"#64748B"},children:[r.jsx("strong",{children:"\uD83D\uDCCA Example:"})," To focus on CBIL analysis, set CBIL weight to 2.0 and others to 0.8."]})]})]})]})]})}let p=t.n(i)()(()=>Promise.resolve(c),{ssr:!1,loading:()=>r.jsx("div",{className:"container",children:(0,r.jsxs)("div",{className:"loading",children:[r.jsx("div",{className:"spinner"}),r.jsx("p",{children:"Loading..."})]})})});function x(){return r.jsx(p,{})}},266:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/jihunkong/AI_analize/frontend/src/app/comprehensive-reports/page.tsx#default`)},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>a});var r=t(9510);t(5023);var n=t(7371);let a={title:"TVAS - Teacher Voice Analysis System",description:"Advanced AI-powered classroom analysis platform"};function i({children:e}){return r.jsx("html",{lang:"ko",children:(0,r.jsxs)("body",{children:[r.jsx("header",{className:"header",children:(0,r.jsxs)("nav",{className:"nav container",children:[r.jsx("div",{className:"nav-brand",children:(0,r.jsxs)(n.default,{href:"/",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem"},children:[r.jsx("h1",{children:"TVAS"}),r.jsx("span",{children:"Classroom Intelligence"})]})}),(0,r.jsxs)("div",{className:"nav-menu",children:[r.jsx(n.default,{href:"/pipeline",className:"nav-link",children:"Analysis"}),r.jsx(n.default,{href:"/comprehensive-reports",className:"nav-link",children:"Reports"})]})]})}),r.jsx("main",{children:e}),r.jsx("footer",{className:"footer",children:(0,r.jsxs)("div",{className:"container",children:[r.jsx("p",{children:"\xa9 2025 TVAS. All rights reserved."}),r.jsx("p",{style:{fontSize:"var(--text-xs)",marginTop:"var(--space-2)",color:"var(--color-text-tertiary)"},children:"Teacher Voice Analysis System"})]})})]})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[991],()=>t(5172));module.exports=r})();